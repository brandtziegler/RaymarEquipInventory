2025-09-18 09:51:41.991 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-18 09:51:42.015 -04:00 [INF] Hosting environment: Development
2025-09-18 09:51:42.015 -04:00 [INF] Content root path: D:\2024Work\RaymarEquipInventory\RaymarEquipInventory
2025-09-18 11:07:46.508 -04:00 [INF] Start installing Hangfire SQL objects...
2025-09-18 11:07:47.818 -04:00 [INF] Hangfire SQL objects installed.
2025-09-18 11:07:49.787 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-18 11:07:52.581 -04:00 [INF] Now listening on: https://localhost:52212
2025-09-18 11:07:52.582 -04:00 [INF] Now listening on: http://localhost:52213
2025-09-18 11:07:52.583 -04:00 [DBG] Loaded hosting startup assembly RaymarEquipmentInventory
2025-09-18 11:07:52.583 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-18 11:07:52.584 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-18 11:07:52.584 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-18 11:07:52.629 -04:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: tcp:greatfurnituresql.database.windows.net,1433@RaymarInventoryDB'
2025-09-18 11:07:52.630 -04:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-09-18 11:07:52.630 -04:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-09-18 11:07:52.696 -04:00 [DBG] Execution loop BackgroundServerProcess:879d82ba has started in 4.9709 ms
2025-09-18 11:07:52.794 -04:00 [INF] Server bz2024ad:14520:9b39dbda successfully announced in 93.5688 ms
2025-09-18 11:07:52.798 -04:00 [INF] Server bz2024ad:14520:9b39dbda is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-09-18 11:07:52.800 -04:00 [DBG] Execution loop ServerHeartbeatProcess:8546a8c6 has started in 5.7633 ms
2025-09-18 11:07:52.806 -04:00 [DBG] Execution loop ServerWatchdog:3cf59e0d has started in 4.8309 ms
2025-09-18 11:07:52.810 -04:00 [DBG] Execution loop ServerJobCancellationWatcher:2b282811 has started in 7.4944 ms
2025-09-18 11:07:52.813 -04:00 [DBG] Execution loop ExpirationManager:60477803 has started in 3.6571 ms
2025-09-18 11:07:52.817 -04:00 [DBG] Execution loop CountersAggregator:ec012195 has started in 5.2485 ms
2025-09-18 11:07:52.819 -04:00 [DBG] Execution loop SqlServerHeartbeatProcess:ab028bc6 has started in 5.2221 ms
2025-09-18 11:07:52.819 -04:00 [DBG] Aggregating records in 'Counter' table...
2025-09-18 11:07:52.820 -04:00 [DBG] Removing outdated records from the 'AggregatedCounter' table...
2025-09-18 11:07:52.827 -04:00 [DBG] Execution loop Worker:557f7afc has started in 10.4529 ms
2025-09-18 11:07:52.827 -04:00 [DBG] Execution loop Worker:482f5bd1 has started in 10.1754 ms
2025-09-18 11:07:52.829 -04:00 [DBG] Execution loop Worker:0922dcd9 has started in 12.0049 ms
2025-09-18 11:07:52.832 -04:00 [DBG] Execution loop Worker:4da89794 has started in 14.9083 ms
2025-09-18 11:07:52.834 -04:00 [DBG] Execution loop Worker:bb5520b8 has started in 17.5995 ms
2025-09-18 11:07:52.838 -04:00 [DBG] Execution loop Worker:1b4f9be2 has started in 21.6897 ms
2025-09-18 11:07:52.840 -04:00 [DBG] Execution loop Worker:5d7a035a has started in 23.3676 ms
2025-09-18 11:07:52.843 -04:00 [DBG] Execution loop Worker:3b2e4a53 has started in 26.6681 ms
2025-09-18 11:07:52.846 -04:00 [DBG] Execution loop Worker:820d6883 has started in 29.5226 ms
2025-09-18 11:07:52.849 -04:00 [DBG] Execution loop Worker:3582bc1a has started in 32.3386 ms
2025-09-18 11:07:52.853 -04:00 [DBG] Execution loop Worker:53e7fb2e has started in 35.6477 ms
2025-09-18 11:07:52.854 -04:00 [DBG] Execution loop Worker:a5f68bd7 has started in 37.6246 ms
2025-09-18 11:07:52.857 -04:00 [DBG] Execution loop Worker:1a7e0b00 has started in 40.1203 ms
2025-09-18 11:07:52.860 -04:00 [DBG] Execution loop Worker:4bce9646 has started in 42.8013 ms
2025-09-18 11:07:52.862 -04:00 [DBG] Execution loop Worker:3d43790c has started in 45.5518 ms
2025-09-18 11:07:52.865 -04:00 [DBG] Execution loop Worker:7eb79397 has started in 48.2156 ms
2025-09-18 11:07:52.868 -04:00 [DBG] Execution loop Worker:e7ee2ed5 has started in 51.5221 ms
2025-09-18 11:07:52.871 -04:00 [DBG] Execution loop Worker:980c964f has started in 54.2037 ms
2025-09-18 11:07:52.874 -04:00 [DBG] Execution loop Worker:636a9048 has started in 57.741 ms
2025-09-18 11:07:52.877 -04:00 [DBG] Execution loop Worker:af6c1bee has started in 59.8707 ms
2025-09-18 11:07:52.880 -04:00 [INF] Server bz2024ad:14520:9b39dbda all the dispatchers started
2025-09-18 11:07:52.880 -04:00 [DBG] Execution loop DelayedJobScheduler:c40ad3c8 has started in 7.67 ms
2025-09-18 11:07:52.883 -04:00 [DBG] Execution loop RecurringJobScheduler:46e9f49e has started in 5.7625 ms
2025-09-18 11:07:52.923 -04:00 [DBG] Removing outdated records from the 'Job' table...
2025-09-18 11:07:52.992 -04:00 [DBG] Connection id "0HNFMOKI0AV04" received FIN.
2025-09-18 11:07:53.077 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 11:07:53.087 -04:00 [DBG] Connection id "0HNFMOKI0AV04" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-18 11:07:53.108 -04:00 [DBG] Removing outdated records from the 'List' table...
2025-09-18 11:07:53.462 -04:00 [DBG] Removing outdated records from the 'Set' table...
2025-09-18 11:07:53.539 -04:00 [DBG] Removing outdated records from the 'Hash' table...
2025-09-18 11:07:53.697 -04:00 [DBG] Connection 0HNFMOKI0AV05 established using the following protocol: "Tls13"
2025-09-18 11:07:53.747 -04:00 [INF] Request starting HTTP/2 GET https://localhost:52212/swagger/index.html - null null
2025-09-18 11:07:53.833 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-18 11:07:53.958 -04:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-18 11:07:53.960 -04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-18 11:07:53.971 -04:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-18 11:07:53.972 -04:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-18 11:07:53.974 -04:00 [INF] Request finished HTTP/2 GET https://localhost:52212/swagger/index.html - 200 null text/html;charset=utf-8 230.7035ms
2025-09-18 11:07:53.987 -04:00 [INF] Request starting HTTP/2 GET https://localhost:52212/_framework/aspnetcore-browser-refresh.js - null null
2025-09-18 11:07:53.987 -04:00 [INF] Request starting HTTP/2 GET https://localhost:52212/_vs/browserLink - null null
2025-09-18 11:07:54.003 -04:00 [INF] Request finished HTTP/2 GET https://localhost:52212/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 16.4285ms
2025-09-18 11:07:54.028 -04:00 [INF] Request finished HTTP/2 GET https://localhost:52212/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.6756ms
2025-09-18 11:07:54.052 -04:00 [INF] Request starting HTTP/2 GET https://localhost:52212/swagger/v1/swagger.json - null null
2025-09-18 11:07:54.183 -04:00 [INF] Request finished HTTP/2 GET https://localhost:52212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 131.5018ms
2025-09-18 11:07:57.255 -04:00 [DBG] Connection id "0HNFMOKI0AV05" received FIN.
2025-09-18 11:07:57.257 -04:00 [DBG] Connection id "0HNFMOKI0AV05" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-18 11:08:22.840 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:08:24.722 -04:00 [DBG] Connection 0HNFMOKI0AV06 established using the following protocol: "Tls13"
2025-09-18 11:08:24.725 -04:00 [INF] Request starting HTTP/2 POST https://localhost:52212/api/Inventory/SyncInventoryDataBackup - null 0
2025-09-18 11:08:24.728 -04:00 [DBG] The request has an origin header: 'https://localhost:52212'.
2025-09-18 11:08:24.729 -04:00 [INF] CORS policy execution successful.
2025-09-18 11:08:24.731 -04:00 [DBG] POST requests are not supported
2025-09-18 11:08:24.751 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Inventory/SyncInventoryDataBackup'
2025-09-18 11:08:24.754 -04:00 [DBG] Endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)' with route pattern 'api/Inventory/SyncInventoryDataBackup' is valid for the request path '/api/Inventory/SyncInventoryDataBackup'
2025-09-18 11:08:24.757 -04:00 [DBG] Request matched endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:08:24.769 -04:00 [INF] Executing endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:08:24.791 -04:00 [INF] Route matched with {action = "SyncInventoryDataBackup", controller = "Inventory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SyncInventoryDataBackup(System.Nullable`1[System.Guid]) on controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory).
2025-09-18 11:08:24.795 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-18 11:08:24.796 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-18 11:08:24.797 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-18 11:08:24.798 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-18 11:08:24.799 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-18 11:08:24.801 -04:00 [DBG] Executing controller factory for controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory)
2025-09-18 11:08:25.358 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-18 11:08:25.385 -04:00 [DBG] Executed controller factory for controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory)
2025-09-18 11:08:25.387 -04:00 [DBG] Attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]' ...
2025-09-18 11:08:25.389 -04:00 [DBG] Attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]' using the name '' in request data ...
2025-09-18 11:08:25.390 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:08:25.392 -04:00 [DBG] Done attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:08:25.393 -04:00 [DBG] Done attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:08:25.394 -04:00 [DBG] Attempting to validate the bound parameter 'runId' of type 'System.Nullable`1[System.Guid]' ...
2025-09-18 11:08:25.395 -04:00 [DBG] Done attempting to validate the bound parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:08:25.572 -04:00 [DBG] No relationship from 'Customer' to 'Customer' has been configured by convention because there are multiple properties on one entity type - {'InverseParent'} that could be matched with the properties on the other entity type - {'InverseParentCustomer', 'Parent', 'ParentCustomer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.597 -04:00 [DBG] No relationship from 'WorkOrderStatus' to 'WorkOrderType' has been configured by convention because there are multiple properties on one entity type - {'WorkOrdType', 'WorkOrdTypes'} that could be matched with the properties on the other entity type - {'Statuses', 'WorkOrderStatuses'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.600 -04:00 [DBG] No relationship from 'WorkOrderType' to 'WorkOrderStatus' has been configured by convention because there are multiple properties on one entity type - {'Statuses', 'WorkOrderStatuses'} that could be matched with the properties on the other entity type - {'WorkOrdType', 'WorkOrdTypes'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.614 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.621 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.622 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.623 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.624 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.625 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.627 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.629 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.632 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.634 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.635 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.635 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.653 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.658 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.659 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.661 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.664 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.672 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.673 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.674 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.675 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.676 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.678 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.679 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.680 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.681 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.682 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.683 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.684 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.685 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.686 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.687 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.688 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.689 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.690 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.691 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.693 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.694 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.695 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.696 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.698 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.699 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.700 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.701 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.702 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.703 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.704 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.705 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.706 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.707 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.708 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.713 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.715 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.718 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.721 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.743 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.744 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.746 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.769 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.770 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.771 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.773 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.774 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.775 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.775 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.777 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.778 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.779 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.780 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.781 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.783 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.783 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.785 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.789 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.790 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.790 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.791 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.794 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.794 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.796 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.797 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.797 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.798 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.799 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.800 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.801 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.802 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.803 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.804 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.805 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.805 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.806 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.807 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.808 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.809 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.810 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.811 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.812 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.814 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.815 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.816 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.817 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.818 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.818 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.819 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.820 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.821 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.843 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.850 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.853 -04:00 [DBG] For the relationship between dependent 'BillingInformation.Customer' and principal 'Customer.BillingInformations', the foreign key properties haven't been configured by convention because the best match {'CustomerId' : int?} are incompatible with the current principal key {'Id' : string}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.871 -04:00 [DBG] No relationship from 'Customer' to 'Customer' has been configured by convention because there are multiple properties on one entity type - {'InverseParent'} that could be matched with the properties on the other entity type - {'InverseParentCustomer', 'Parent', 'ParentCustomer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.953 -04:00 [DBG] No relationship from 'WorkOrderStatus' to 'WorkOrderType' has been configured by convention because there are multiple properties on one entity type - {'WorkOrdType', 'WorkOrdTypes'} that could be matched with the properties on the other entity type - {'Statuses', 'WorkOrderStatuses'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:25.954 -04:00 [DBG] No relationship from 'WorkOrderType' to 'WorkOrderStatus' has been configured by convention because there are multiple properties on one entity type - {'Statuses', 'WorkOrderStatuses'} that could be matched with the properties on the other entity type - {'WorkOrdType', 'WorkOrdTypes'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-18 11:08:26.004 -04:00 [DBG] The index {'CategoryId'} was not created on entity type 'DiAllowedKeyword' as the properties are already covered by the index {'CategoryId', 'Keyword'}.
2025-09-18 11:08:26.005 -04:00 [DBG] The index {'CategoryId'} was not created on entity type 'DiCandidateKeyword' as the properties are already covered by the index {'CategoryId', 'Keyword'}.
2025-09-18 11:08:26.005 -04:00 [DBG] The index {'CategoryId'} was not created on entity type 'DiItemKeyword' as the properties are already covered by the index {'CategoryId', 'Keyword'}.
2025-09-18 11:08:26.006 -04:00 [DBG] The index {'CategoryId'} was not created on entity type 'DiPlace' as the properties are already covered by the index {'CategoryId', 'PlaceName'}.
2025-09-18 11:08:26.007 -04:00 [DBG] The index {'PlaceId'} was not created on entity type 'DiPlaceAlias' as the properties are already covered by the index {'PlaceId', 'Alias'}.
2025-09-18 11:08:26.008 -04:00 [DBG] The index {'LabourTypeId'} was not created on entity type 'FeeVisibility' as the properties are already covered by the index {'LabourTypeId', 'TechnicianWorkOrderId'}.
2025-09-18 11:08:26.008 -04:00 [DBG] The index {'TechnicianId'} was not created on entity type 'TechnicianAndType' as the properties are already covered by the index {'TechnicianId', 'TechTypeId'}.
2025-09-18 11:08:26.010 -04:00 [DBG] The index {'TechnicianWorkOrderId'} was not created on entity type 'WorkOrderFee' as the properties are already covered by the index {'TechnicianWorkOrderId', 'FlatLabourId'}.
2025-09-18 11:08:26.011 -04:00 [DBG] The index {'SheetId'} was not created on entity type 'WorkOrderSyncLog' as the properties are already covered by the index {'SheetId', 'DeviceId'}.
2025-09-18 11:08:26.012 -04:00 [DBG] The index {'WorkOrdTypeId'} was not created on entity type 'WorkOrderTypeStatus (Dictionary<string, object>)' as the properties are already covered by the index {'WorkOrdTypeId', 'StatusId'}.
2025-09-18 11:08:26.256 -04:00 [DBG] Entity Framework Core 7.0.16 initialized 'RaymarInventoryDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.16' with options: None
2025-09-18 11:08:26.263 -04:00 [DBG] Creating DbConnection.
2025-09-18 11:08:26.267 -04:00 [DBG] Created DbConnection. (2ms).
2025-09-18 11:08:26.271 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 11:08:26.290 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-18 11:08:26.298 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:08:26.301 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:08:26.302 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2025-09-18 11:08:26.306 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.ManufacturerPartNumber = v.Staging_MPN,
     b.[Description] = LEFT(CONCAT(
                              COALESCE(v.Staging_MPN,''), 
                              CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
                                    AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
                              COALESCE(v.Staging_Desc,'')
                          ),255),
     b.Cost        = v.Staging_Cost,
     b.SalesPrice  = v.Staging_SalesPrice,
     b.OnHand      = v.Staging_OnHand,
     b.IsActive    = 1,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'U'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'CHANGED';
2025-09-18 11:08:26.494 -04:00 [INF] Executed DbCommand (187ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.ManufacturerPartNumber = v.Staging_MPN,
     b.[Description] = LEFT(CONCAT(
                              COALESCE(v.Staging_MPN,''), 
                              CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
                                    AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
                              COALESCE(v.Staging_Desc,'')
                          ),255),
     b.Cost        = v.Staging_Cost,
     b.SalesPrice  = v.Staging_SalesPrice,
     b.OnHand      = v.Staging_OnHand,
     b.IsActive    = 1,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'U'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'CHANGED';
2025-09-18 11:08:26.497 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:08:26.498 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:08:26.498 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:08:26.499 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

INSERT dbo.InventoryDataBackup
(
    ItemName, ManufacturerPartNumber, [Description],
    Cost, SalesPrice, ReorderPoint, OnHand, AverageCost, IncomeAccountID,
    QuickBooksInvID, LastRestockedDate, IsActive, LastUpdated, LastTrans
)
SELECT
    NULL,                                        -- ItemName
    v.Staging_MPN,
    LEFT(CONCAT(
        COALESCE(v.Staging_MPN,''), 
        CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
              AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
        COALESCE(v.Staging_Desc,'')
    ),255) AS [Description],
    v.Staging_Cost,
    v.Staging_SalesPrice,
    NULL,                                        -- ReorderPoint
    v.Staging_OnHand,
    NULL,                                        -- AverageCost
    NULL,                                        -- IncomeAccountID
    v.ListID,
    NULL,                                        -- LastRestockedDate
    1,                                           -- IsActive
    SYSUTCDATETIME(),
    'I'
FROM dbo.vw_InventoryDelta v
LEFT JOIN dbo.InventoryDataBackup b
  ON TRIM(b.QuickBooksInvID) = TRIM(v.ListID)
WHERE v.Status = 'NEW'
  AND b.InventoryID IS NULL;
2025-09-18 11:08:27.303 -04:00 [INF] Executed DbCommand (804ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

INSERT dbo.InventoryDataBackup
(
    ItemName, ManufacturerPartNumber, [Description],
    Cost, SalesPrice, ReorderPoint, OnHand, AverageCost, IncomeAccountID,
    QuickBooksInvID, LastRestockedDate, IsActive, LastUpdated, LastTrans
)
SELECT
    NULL,                                        -- ItemName
    v.Staging_MPN,
    LEFT(CONCAT(
        COALESCE(v.Staging_MPN,''), 
        CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
              AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
        COALESCE(v.Staging_Desc,'')
    ),255) AS [Description],
    v.Staging_Cost,
    v.Staging_SalesPrice,
    NULL,                                        -- ReorderPoint
    v.Staging_OnHand,
    NULL,                                        -- AverageCost
    NULL,                                        -- IncomeAccountID
    v.ListID,
    NULL,                                        -- LastRestockedDate
    1,                                           -- IsActive
    SYSUTCDATETIME(),
    'I'
FROM dbo.vw_InventoryDelta v
LEFT JOIN dbo.InventoryDataBackup b
  ON TRIM(b.QuickBooksInvID) = TRIM(v.ListID)
WHERE v.Status = 'NEW'
  AND b.InventoryID IS NULL;
2025-09-18 11:08:27.304 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:08:27.305 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:08:27.306 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:08:27.311 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.IsActive    = 0,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'D'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'DELETED'
  AND b.IsActive = 1
  AND ISNULL(b.ManufacturerPartNumber,'') <> '__TRAVEL_RECEIPT__';
2025-09-18 11:08:27.945 -04:00 [INF] Executed DbCommand (634ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.IsActive    = 0,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'D'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'DELETED'
  AND b.IsActive = 1
  AND ISNULL(b.ManufacturerPartNumber,'') <> '__TRAVEL_RECEIPT__';
2025-09-18 11:08:27.949 -04:00 [DBG] Committing transaction.
2025-09-18 11:08:27.994 -04:00 [DBG] Committed transaction.
2025-09-18 11:08:27.998 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:08:27.999 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:08:28.000 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:08:28.002 -04:00 [DBG] Executing DbCommand [Parameters=[@RunId='?' (DbType = Guid), @Method='?' (Size = 40) (DbType = AnsiString), @Direction='?' (Size = 10) (DbType = AnsiString), @StatusCode='?' (DbType = Int32), @HResult='?' (Size = 50), @Message='?' (Size = 4000), @CompanyFile='?' (Size = 400), @PayloadXml='?' (DbType = Xml)], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.Qbwc_LogMessage @RunId, @Method, @Direction, @StatusCode, @HResult, @Message, @CompanyFile, @PayloadXml
2025-09-18 11:08:28.028 -04:00 [INF] Executed DbCommand (27ms) [Parameters=[@RunId='?' (DbType = Guid), @Method='?' (Size = 40) (DbType = AnsiString), @Direction='?' (Size = 10) (DbType = AnsiString), @StatusCode='?' (DbType = Int32), @HResult='?' (Size = 50), @Message='?' (Size = 4000), @CompanyFile='?' (Size = 400), @PayloadXml='?' (DbType = Xml)], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.Qbwc_LogMessage @RunId, @Method, @Direction, @StatusCode, @HResult, @Message, @CompanyFile, @PayloadXml
2025-09-18 11:08:28.032 -04:00 [DBG] Disposing transaction.
2025-09-18 11:08:28.037 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-18 11:08:28.040 -04:00 [DBG] No information found on request to perform content negotiation.
2025-09-18 11:08:28.040 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-18 11:08:28.041 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-18 11:08:28.041 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-18 11:08:28.043 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`4[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-18 11:08:28.051 -04:00 [INF] Executed action RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory) in 3249.3368ms
2025-09-18 11:08:28.052 -04:00 [INF] Executed endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:08:28.054 -04:00 [DBG] 'RaymarInventoryDBContext' disposed.
2025-09-18 11:08:28.057 -04:00 [DBG] Disposing connection to database 'RaymarInventoryDB' on server 'tcp:greatfurnituresql.database.windows.net,1433'.
2025-09-18 11:08:28.061 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-18 11:08:28.062 -04:00 [INF] Request finished HTTP/2 POST https://localhost:52212/api/Inventory/SyncInventoryDataBackup - 200 null application/json; charset=utf-8 3337.7789ms
2025-09-18 11:08:33.156 -04:00 [INF] Request starting HTTP/2 POST https://localhost:52212/api/Inventory/SyncInventoryDataBackup - null 0
2025-09-18 11:08:33.158 -04:00 [DBG] The request has an origin header: 'https://localhost:52212'.
2025-09-18 11:08:33.158 -04:00 [INF] CORS policy execution successful.
2025-09-18 11:08:33.159 -04:00 [DBG] POST requests are not supported
2025-09-18 11:08:33.163 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Inventory/SyncInventoryDataBackup'
2025-09-18 11:08:33.164 -04:00 [DBG] Endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)' with route pattern 'api/Inventory/SyncInventoryDataBackup' is valid for the request path '/api/Inventory/SyncInventoryDataBackup'
2025-09-18 11:08:33.166 -04:00 [DBG] Request matched endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:08:33.167 -04:00 [INF] Executing endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:08:33.168 -04:00 [INF] Route matched with {action = "SyncInventoryDataBackup", controller = "Inventory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SyncInventoryDataBackup(System.Nullable`1[System.Guid]) on controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory).
2025-09-18 11:08:33.169 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-18 11:08:33.170 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-18 11:08:33.170 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-18 11:08:33.171 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-18 11:08:33.172 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-18 11:08:33.173 -04:00 [DBG] Executing controller factory for controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory)
2025-09-18 11:08:33.175 -04:00 [DBG] Executed controller factory for controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory)
2025-09-18 11:08:33.180 -04:00 [DBG] Attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]' ...
2025-09-18 11:08:33.181 -04:00 [DBG] Attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]' using the name '' in request data ...
2025-09-18 11:08:33.181 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:08:33.182 -04:00 [DBG] Done attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:08:33.183 -04:00 [DBG] Done attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:08:33.183 -04:00 [DBG] Attempting to validate the bound parameter 'runId' of type 'System.Nullable`1[System.Guid]' ...
2025-09-18 11:08:33.184 -04:00 [DBG] Done attempting to validate the bound parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:08:33.190 -04:00 [DBG] Entity Framework Core 7.0.16 initialized 'RaymarInventoryDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.16' with options: None
2025-09-18 11:08:33.192 -04:00 [DBG] Creating DbConnection.
2025-09-18 11:08:33.193 -04:00 [DBG] Created DbConnection. (1ms).
2025-09-18 11:08:33.194 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 11:08:33.217 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-18 11:08:33.218 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:08:33.218 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:08:33.219 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:08:33.220 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.ManufacturerPartNumber = v.Staging_MPN,
     b.[Description] = LEFT(CONCAT(
                              COALESCE(v.Staging_MPN,''), 
                              CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
                                    AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
                              COALESCE(v.Staging_Desc,'')
                          ),255),
     b.Cost        = v.Staging_Cost,
     b.SalesPrice  = v.Staging_SalesPrice,
     b.OnHand      = v.Staging_OnHand,
     b.IsActive    = 1,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'U'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'CHANGED';
2025-09-18 11:08:33.320 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.ManufacturerPartNumber = v.Staging_MPN,
     b.[Description] = LEFT(CONCAT(
                              COALESCE(v.Staging_MPN,''), 
                              CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
                                    AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
                              COALESCE(v.Staging_Desc,'')
                          ),255),
     b.Cost        = v.Staging_Cost,
     b.SalesPrice  = v.Staging_SalesPrice,
     b.OnHand      = v.Staging_OnHand,
     b.IsActive    = 1,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'U'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'CHANGED';
2025-09-18 11:08:33.324 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:08:33.328 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-09-18 11:08:33.329 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2025-09-18 11:08:33.330 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

INSERT dbo.InventoryDataBackup
(
    ItemName, ManufacturerPartNumber, [Description],
    Cost, SalesPrice, ReorderPoint, OnHand, AverageCost, IncomeAccountID,
    QuickBooksInvID, LastRestockedDate, IsActive, LastUpdated, LastTrans
)
SELECT
    NULL,                                        -- ItemName
    v.Staging_MPN,
    LEFT(CONCAT(
        COALESCE(v.Staging_MPN,''), 
        CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
              AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
        COALESCE(v.Staging_Desc,'')
    ),255) AS [Description],
    v.Staging_Cost,
    v.Staging_SalesPrice,
    NULL,                                        -- ReorderPoint
    v.Staging_OnHand,
    NULL,                                        -- AverageCost
    NULL,                                        -- IncomeAccountID
    v.ListID,
    NULL,                                        -- LastRestockedDate
    1,                                           -- IsActive
    SYSUTCDATETIME(),
    'I'
FROM dbo.vw_InventoryDelta v
LEFT JOIN dbo.InventoryDataBackup b
  ON TRIM(b.QuickBooksInvID) = TRIM(v.ListID)
WHERE v.Status = 'NEW'
  AND b.InventoryID IS NULL;
2025-09-18 11:08:34.101 -04:00 [INF] Executed DbCommand (771ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

INSERT dbo.InventoryDataBackup
(
    ItemName, ManufacturerPartNumber, [Description],
    Cost, SalesPrice, ReorderPoint, OnHand, AverageCost, IncomeAccountID,
    QuickBooksInvID, LastRestockedDate, IsActive, LastUpdated, LastTrans
)
SELECT
    NULL,                                        -- ItemName
    v.Staging_MPN,
    LEFT(CONCAT(
        COALESCE(v.Staging_MPN,''), 
        CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
              AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
        COALESCE(v.Staging_Desc,'')
    ),255) AS [Description],
    v.Staging_Cost,
    v.Staging_SalesPrice,
    NULL,                                        -- ReorderPoint
    v.Staging_OnHand,
    NULL,                                        -- AverageCost
    NULL,                                        -- IncomeAccountID
    v.ListID,
    NULL,                                        -- LastRestockedDate
    1,                                           -- IsActive
    SYSUTCDATETIME(),
    'I'
FROM dbo.vw_InventoryDelta v
LEFT JOIN dbo.InventoryDataBackup b
  ON TRIM(b.QuickBooksInvID) = TRIM(v.ListID)
WHERE v.Status = 'NEW'
  AND b.InventoryID IS NULL;
2025-09-18 11:08:34.102 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:08:34.103 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:08:34.104 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:08:34.105 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.IsActive    = 0,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'D'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'DELETED'
  AND b.IsActive = 1
  AND ISNULL(b.ManufacturerPartNumber,'') <> '__TRAVEL_RECEIPT__';
2025-09-18 11:08:34.445 -04:00 [INF] Executed DbCommand (340ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.IsActive    = 0,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'D'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'DELETED'
  AND b.IsActive = 1
  AND ISNULL(b.ManufacturerPartNumber,'') <> '__TRAVEL_RECEIPT__';
2025-09-18 11:08:34.447 -04:00 [DBG] Committing transaction.
2025-09-18 11:08:34.496 -04:00 [DBG] Committed transaction.
2025-09-18 11:08:34.497 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:08:34.497 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:08:34.498 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:08:34.499 -04:00 [DBG] Executing DbCommand [Parameters=[@RunId='?' (DbType = Guid), @Method='?' (Size = 40) (DbType = AnsiString), @Direction='?' (Size = 10) (DbType = AnsiString), @StatusCode='?' (DbType = Int32), @HResult='?' (Size = 50), @Message='?' (Size = 4000), @CompanyFile='?' (Size = 400), @PayloadXml='?' (DbType = Xml)], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.Qbwc_LogMessage @RunId, @Method, @Direction, @StatusCode, @HResult, @Message, @CompanyFile, @PayloadXml
2025-09-18 11:08:34.523 -04:00 [INF] Executed DbCommand (24ms) [Parameters=[@RunId='?' (DbType = Guid), @Method='?' (Size = 40) (DbType = AnsiString), @Direction='?' (Size = 10) (DbType = AnsiString), @StatusCode='?' (DbType = Int32), @HResult='?' (Size = 50), @Message='?' (Size = 4000), @CompanyFile='?' (Size = 400), @PayloadXml='?' (DbType = Xml)], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.Qbwc_LogMessage @RunId, @Method, @Direction, @StatusCode, @HResult, @Message, @CompanyFile, @PayloadXml
2025-09-18 11:08:34.524 -04:00 [DBG] Disposing transaction.
2025-09-18 11:08:34.525 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-18 11:08:34.526 -04:00 [DBG] No information found on request to perform content negotiation.
2025-09-18 11:08:34.527 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-18 11:08:34.527 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-18 11:08:34.528 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-18 11:08:34.528 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`4[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-18 11:08:34.529 -04:00 [INF] Executed action RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory) in 1356.1659ms
2025-09-18 11:08:34.530 -04:00 [INF] Executed endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:08:34.531 -04:00 [DBG] 'RaymarInventoryDBContext' disposed.
2025-09-18 11:08:34.531 -04:00 [DBG] Disposing connection to database 'RaymarInventoryDB' on server 'tcp:greatfurnituresql.database.windows.net,1433'.
2025-09-18 11:08:34.532 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-18 11:08:34.534 -04:00 [INF] Request finished HTTP/2 POST https://localhost:52212/api/Inventory/SyncInventoryDataBackup - 200 null application/json; charset=utf-8 1378.3185ms
2025-09-18 11:08:42.570 -04:00 [INF] Request starting HTTP/2 POST https://localhost:52212/api/Inventory/SyncInventoryDataBackup - null 0
2025-09-18 11:08:42.572 -04:00 [DBG] The request has an origin header: 'https://localhost:52212'.
2025-09-18 11:08:42.573 -04:00 [INF] CORS policy execution successful.
2025-09-18 11:08:42.575 -04:00 [DBG] POST requests are not supported
2025-09-18 11:08:42.577 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Inventory/SyncInventoryDataBackup'
2025-09-18 11:08:42.578 -04:00 [DBG] Endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)' with route pattern 'api/Inventory/SyncInventoryDataBackup' is valid for the request path '/api/Inventory/SyncInventoryDataBackup'
2025-09-18 11:08:42.579 -04:00 [DBG] Request matched endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:08:42.581 -04:00 [INF] Executing endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:08:42.581 -04:00 [INF] Route matched with {action = "SyncInventoryDataBackup", controller = "Inventory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SyncInventoryDataBackup(System.Nullable`1[System.Guid]) on controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory).
2025-09-18 11:08:42.583 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-18 11:08:42.584 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-18 11:08:42.585 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-18 11:08:42.586 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-18 11:08:42.587 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-18 11:08:42.587 -04:00 [DBG] Executing controller factory for controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory)
2025-09-18 11:08:42.591 -04:00 [DBG] Executed controller factory for controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory)
2025-09-18 11:08:42.591 -04:00 [DBG] Attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]' ...
2025-09-18 11:08:42.592 -04:00 [DBG] Attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]' using the name '' in request data ...
2025-09-18 11:08:42.593 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:08:42.594 -04:00 [DBG] Done attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:08:42.595 -04:00 [DBG] Done attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:08:42.595 -04:00 [DBG] Attempting to validate the bound parameter 'runId' of type 'System.Nullable`1[System.Guid]' ...
2025-09-18 11:08:42.596 -04:00 [DBG] Done attempting to validate the bound parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:08:42.634 -04:00 [DBG] Entity Framework Core 7.0.16 initialized 'RaymarInventoryDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.16' with options: None
2025-09-18 11:08:42.640 -04:00 [DBG] Creating DbConnection.
2025-09-18 11:08:42.640 -04:00 [DBG] Created DbConnection. (0ms).
2025-09-18 11:08:42.641 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 11:08:42.655 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-18 11:08:42.655 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:08:42.656 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:08:42.656 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:08:42.657 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.ManufacturerPartNumber = v.Staging_MPN,
     b.[Description] = LEFT(CONCAT(
                              COALESCE(v.Staging_MPN,''), 
                              CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
                                    AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
                              COALESCE(v.Staging_Desc,'')
                          ),255),
     b.Cost        = v.Staging_Cost,
     b.SalesPrice  = v.Staging_SalesPrice,
     b.OnHand      = v.Staging_OnHand,
     b.IsActive    = 1,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'U'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'CHANGED';
2025-09-18 11:08:42.884 -04:00 [INF] Executed DbCommand (227ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.ManufacturerPartNumber = v.Staging_MPN,
     b.[Description] = LEFT(CONCAT(
                              COALESCE(v.Staging_MPN,''), 
                              CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
                                    AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
                              COALESCE(v.Staging_Desc,'')
                          ),255),
     b.Cost        = v.Staging_Cost,
     b.SalesPrice  = v.Staging_SalesPrice,
     b.OnHand      = v.Staging_OnHand,
     b.IsActive    = 1,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'U'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'CHANGED';
2025-09-18 11:08:42.886 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:08:42.886 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:08:42.887 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:08:42.888 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

INSERT dbo.InventoryDataBackup
(
    ItemName, ManufacturerPartNumber, [Description],
    Cost, SalesPrice, ReorderPoint, OnHand, AverageCost, IncomeAccountID,
    QuickBooksInvID, LastRestockedDate, IsActive, LastUpdated, LastTrans
)
SELECT
    NULL,                                        -- ItemName
    v.Staging_MPN,
    LEFT(CONCAT(
        COALESCE(v.Staging_MPN,''), 
        CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
              AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
        COALESCE(v.Staging_Desc,'')
    ),255) AS [Description],
    v.Staging_Cost,
    v.Staging_SalesPrice,
    NULL,                                        -- ReorderPoint
    v.Staging_OnHand,
    NULL,                                        -- AverageCost
    NULL,                                        -- IncomeAccountID
    v.ListID,
    NULL,                                        -- LastRestockedDate
    1,                                           -- IsActive
    SYSUTCDATETIME(),
    'I'
FROM dbo.vw_InventoryDelta v
LEFT JOIN dbo.InventoryDataBackup b
  ON TRIM(b.QuickBooksInvID) = TRIM(v.ListID)
WHERE v.Status = 'NEW'
  AND b.InventoryID IS NULL;
2025-09-18 11:08:43.445 -04:00 [INF] Executed DbCommand (557ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

INSERT dbo.InventoryDataBackup
(
    ItemName, ManufacturerPartNumber, [Description],
    Cost, SalesPrice, ReorderPoint, OnHand, AverageCost, IncomeAccountID,
    QuickBooksInvID, LastRestockedDate, IsActive, LastUpdated, LastTrans
)
SELECT
    NULL,                                        -- ItemName
    v.Staging_MPN,
    LEFT(CONCAT(
        COALESCE(v.Staging_MPN,''), 
        CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
              AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
        COALESCE(v.Staging_Desc,'')
    ),255) AS [Description],
    v.Staging_Cost,
    v.Staging_SalesPrice,
    NULL,                                        -- ReorderPoint
    v.Staging_OnHand,
    NULL,                                        -- AverageCost
    NULL,                                        -- IncomeAccountID
    v.ListID,
    NULL,                                        -- LastRestockedDate
    1,                                           -- IsActive
    SYSUTCDATETIME(),
    'I'
FROM dbo.vw_InventoryDelta v
LEFT JOIN dbo.InventoryDataBackup b
  ON TRIM(b.QuickBooksInvID) = TRIM(v.ListID)
WHERE v.Status = 'NEW'
  AND b.InventoryID IS NULL;
2025-09-18 11:08:43.446 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:08:43.447 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:08:43.447 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:08:43.448 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.IsActive    = 0,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'D'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'DELETED'
  AND b.IsActive = 1
  AND ISNULL(b.ManufacturerPartNumber,'') <> '__TRAVEL_RECEIPT__';
2025-09-18 11:08:43.773 -04:00 [INF] Executed DbCommand (325ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.IsActive    = 0,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'D'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'DELETED'
  AND b.IsActive = 1
  AND ISNULL(b.ManufacturerPartNumber,'') <> '__TRAVEL_RECEIPT__';
2025-09-18 11:08:43.774 -04:00 [DBG] Committing transaction.
2025-09-18 11:08:43.809 -04:00 [DBG] Committed transaction.
2025-09-18 11:08:43.810 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:08:43.811 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:08:43.812 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:08:43.813 -04:00 [DBG] Executing DbCommand [Parameters=[@RunId='?' (DbType = Guid), @Method='?' (Size = 40) (DbType = AnsiString), @Direction='?' (Size = 10) (DbType = AnsiString), @StatusCode='?' (DbType = Int32), @HResult='?' (Size = 50), @Message='?' (Size = 4000), @CompanyFile='?' (Size = 400), @PayloadXml='?' (DbType = Xml)], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.Qbwc_LogMessage @RunId, @Method, @Direction, @StatusCode, @HResult, @Message, @CompanyFile, @PayloadXml
2025-09-18 11:08:43.831 -04:00 [INF] Executed DbCommand (18ms) [Parameters=[@RunId='?' (DbType = Guid), @Method='?' (Size = 40) (DbType = AnsiString), @Direction='?' (Size = 10) (DbType = AnsiString), @StatusCode='?' (DbType = Int32), @HResult='?' (Size = 50), @Message='?' (Size = 4000), @CompanyFile='?' (Size = 400), @PayloadXml='?' (DbType = Xml)], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.Qbwc_LogMessage @RunId, @Method, @Direction, @StatusCode, @HResult, @Message, @CompanyFile, @PayloadXml
2025-09-18 11:08:43.833 -04:00 [DBG] Disposing transaction.
2025-09-18 11:08:43.833 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-18 11:08:43.834 -04:00 [DBG] No information found on request to perform content negotiation.
2025-09-18 11:08:43.834 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-18 11:08:43.835 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-18 11:08:43.835 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-18 11:08:43.836 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`4[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-18 11:08:43.836 -04:00 [INF] Executed action RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory) in 1248.9892ms
2025-09-18 11:08:43.837 -04:00 [INF] Executed endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:08:43.838 -04:00 [DBG] 'RaymarInventoryDBContext' disposed.
2025-09-18 11:08:43.838 -04:00 [DBG] Disposing connection to database 'RaymarInventoryDB' on server 'tcp:greatfurnituresql.database.windows.net,1433'.
2025-09-18 11:08:43.839 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-18 11:08:43.840 -04:00 [INF] Request finished HTTP/2 POST https://localhost:52212/api/Inventory/SyncInventoryDataBackup - 200 null application/json; charset=utf-8 1270.8765ms
2025-09-18 11:08:48.673 -04:00 [INF] Request starting HTTP/2 POST https://localhost:52212/api/Inventory/SyncInventoryDataBackup - null 0
2025-09-18 11:08:48.675 -04:00 [DBG] The request has an origin header: 'https://localhost:52212'.
2025-09-18 11:08:48.676 -04:00 [INF] CORS policy execution successful.
2025-09-18 11:08:48.680 -04:00 [DBG] POST requests are not supported
2025-09-18 11:08:48.681 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Inventory/SyncInventoryDataBackup'
2025-09-18 11:08:48.684 -04:00 [DBG] Endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)' with route pattern 'api/Inventory/SyncInventoryDataBackup' is valid for the request path '/api/Inventory/SyncInventoryDataBackup'
2025-09-18 11:08:48.686 -04:00 [DBG] Request matched endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:08:48.686 -04:00 [INF] Executing endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:08:48.687 -04:00 [INF] Route matched with {action = "SyncInventoryDataBackup", controller = "Inventory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SyncInventoryDataBackup(System.Nullable`1[System.Guid]) on controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory).
2025-09-18 11:08:48.689 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-18 11:08:48.690 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-18 11:08:48.690 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-18 11:08:48.692 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-18 11:08:48.693 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-18 11:08:48.694 -04:00 [DBG] Executing controller factory for controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory)
2025-09-18 11:08:48.694 -04:00 [DBG] Executed controller factory for controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory)
2025-09-18 11:08:48.695 -04:00 [DBG] Attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]' ...
2025-09-18 11:08:48.696 -04:00 [DBG] Attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]' using the name '' in request data ...
2025-09-18 11:08:48.696 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:08:48.697 -04:00 [DBG] Done attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:08:48.698 -04:00 [DBG] Done attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:08:48.698 -04:00 [DBG] Attempting to validate the bound parameter 'runId' of type 'System.Nullable`1[System.Guid]' ...
2025-09-18 11:08:48.699 -04:00 [DBG] Done attempting to validate the bound parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:08:48.700 -04:00 [DBG] Entity Framework Core 7.0.16 initialized 'RaymarInventoryDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.16' with options: None
2025-09-18 11:08:48.701 -04:00 [DBG] Creating DbConnection.
2025-09-18 11:08:48.701 -04:00 [DBG] Created DbConnection. (0ms).
2025-09-18 11:08:48.702 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 11:08:48.714 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-18 11:08:48.715 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:08:48.715 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:08:48.716 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:08:48.716 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.ManufacturerPartNumber = v.Staging_MPN,
     b.[Description] = LEFT(CONCAT(
                              COALESCE(v.Staging_MPN,''), 
                              CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
                                    AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
                              COALESCE(v.Staging_Desc,'')
                          ),255),
     b.Cost        = v.Staging_Cost,
     b.SalesPrice  = v.Staging_SalesPrice,
     b.OnHand      = v.Staging_OnHand,
     b.IsActive    = 1,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'U'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'CHANGED';
2025-09-18 11:08:49.025 -04:00 [INF] Executed DbCommand (308ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.ManufacturerPartNumber = v.Staging_MPN,
     b.[Description] = LEFT(CONCAT(
                              COALESCE(v.Staging_MPN,''), 
                              CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
                                    AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
                              COALESCE(v.Staging_Desc,'')
                          ),255),
     b.Cost        = v.Staging_Cost,
     b.SalesPrice  = v.Staging_SalesPrice,
     b.OnHand      = v.Staging_OnHand,
     b.IsActive    = 1,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'U'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'CHANGED';
2025-09-18 11:08:49.026 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:08:49.027 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:08:49.028 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:08:49.029 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

INSERT dbo.InventoryDataBackup
(
    ItemName, ManufacturerPartNumber, [Description],
    Cost, SalesPrice, ReorderPoint, OnHand, AverageCost, IncomeAccountID,
    QuickBooksInvID, LastRestockedDate, IsActive, LastUpdated, LastTrans
)
SELECT
    NULL,                                        -- ItemName
    v.Staging_MPN,
    LEFT(CONCAT(
        COALESCE(v.Staging_MPN,''), 
        CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
              AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
        COALESCE(v.Staging_Desc,'')
    ),255) AS [Description],
    v.Staging_Cost,
    v.Staging_SalesPrice,
    NULL,                                        -- ReorderPoint
    v.Staging_OnHand,
    NULL,                                        -- AverageCost
    NULL,                                        -- IncomeAccountID
    v.ListID,
    NULL,                                        -- LastRestockedDate
    1,                                           -- IsActive
    SYSUTCDATETIME(),
    'I'
FROM dbo.vw_InventoryDelta v
LEFT JOIN dbo.InventoryDataBackup b
  ON TRIM(b.QuickBooksInvID) = TRIM(v.ListID)
WHERE v.Status = 'NEW'
  AND b.InventoryID IS NULL;
2025-09-18 11:08:49.600 -04:00 [INF] Executed DbCommand (571ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

INSERT dbo.InventoryDataBackup
(
    ItemName, ManufacturerPartNumber, [Description],
    Cost, SalesPrice, ReorderPoint, OnHand, AverageCost, IncomeAccountID,
    QuickBooksInvID, LastRestockedDate, IsActive, LastUpdated, LastTrans
)
SELECT
    NULL,                                        -- ItemName
    v.Staging_MPN,
    LEFT(CONCAT(
        COALESCE(v.Staging_MPN,''), 
        CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
              AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
        COALESCE(v.Staging_Desc,'')
    ),255) AS [Description],
    v.Staging_Cost,
    v.Staging_SalesPrice,
    NULL,                                        -- ReorderPoint
    v.Staging_OnHand,
    NULL,                                        -- AverageCost
    NULL,                                        -- IncomeAccountID
    v.ListID,
    NULL,                                        -- LastRestockedDate
    1,                                           -- IsActive
    SYSUTCDATETIME(),
    'I'
FROM dbo.vw_InventoryDelta v
LEFT JOIN dbo.InventoryDataBackup b
  ON TRIM(b.QuickBooksInvID) = TRIM(v.ListID)
WHERE v.Status = 'NEW'
  AND b.InventoryID IS NULL;
2025-09-18 11:08:49.601 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:08:49.602 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:08:49.603 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:08:49.604 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.IsActive    = 0,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'D'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'DELETED'
  AND b.IsActive = 1
  AND ISNULL(b.ManufacturerPartNumber,'') <> '__TRAVEL_RECEIPT__';
2025-09-18 11:08:49.915 -04:00 [INF] Executed DbCommand (311ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.IsActive    = 0,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'D'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'DELETED'
  AND b.IsActive = 1
  AND ISNULL(b.ManufacturerPartNumber,'') <> '__TRAVEL_RECEIPT__';
2025-09-18 11:08:49.916 -04:00 [DBG] Committing transaction.
2025-09-18 11:08:49.948 -04:00 [DBG] Committed transaction.
2025-09-18 11:08:49.948 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:08:49.949 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:08:49.950 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:08:49.950 -04:00 [DBG] Executing DbCommand [Parameters=[@RunId='?' (DbType = Guid), @Method='?' (Size = 40) (DbType = AnsiString), @Direction='?' (Size = 10) (DbType = AnsiString), @StatusCode='?' (DbType = Int32), @HResult='?' (Size = 50), @Message='?' (Size = 4000), @CompanyFile='?' (Size = 400), @PayloadXml='?' (DbType = Xml)], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.Qbwc_LogMessage @RunId, @Method, @Direction, @StatusCode, @HResult, @Message, @CompanyFile, @PayloadXml
2025-09-18 11:08:49.992 -04:00 [INF] Executed DbCommand (41ms) [Parameters=[@RunId='?' (DbType = Guid), @Method='?' (Size = 40) (DbType = AnsiString), @Direction='?' (Size = 10) (DbType = AnsiString), @StatusCode='?' (DbType = Int32), @HResult='?' (Size = 50), @Message='?' (Size = 4000), @CompanyFile='?' (Size = 400), @PayloadXml='?' (DbType = Xml)], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.Qbwc_LogMessage @RunId, @Method, @Direction, @StatusCode, @HResult, @Message, @CompanyFile, @PayloadXml
2025-09-18 11:08:49.993 -04:00 [DBG] Disposing transaction.
2025-09-18 11:08:49.994 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-18 11:08:49.995 -04:00 [DBG] No information found on request to perform content negotiation.
2025-09-18 11:08:49.995 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-18 11:08:49.995 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-18 11:08:49.996 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-18 11:08:49.996 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`4[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-18 11:08:49.997 -04:00 [INF] Executed action RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory) in 1303.1246ms
2025-09-18 11:08:49.998 -04:00 [INF] Executed endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:08:49.998 -04:00 [DBG] 'RaymarInventoryDBContext' disposed.
2025-09-18 11:08:49.999 -04:00 [DBG] Disposing connection to database 'RaymarInventoryDB' on server 'tcp:greatfurnituresql.database.windows.net,1433'.
2025-09-18 11:08:50.000 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-18 11:08:50.000 -04:00 [INF] Request finished HTTP/2 POST https://localhost:52212/api/Inventory/SyncInventoryDataBackup - 200 null application/json; charset=utf-8 1327.738ms
2025-09-18 11:08:52.933 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:09:22.967 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:09:52.998 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:10:23.036 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:10:53.073 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:11:23.105 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:11:53.136 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:12:23.164 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:12:52.855 -04:00 [INF] 1 servers were removed due to timeout
2025-09-18 11:12:53.094 -04:00 [DBG] Aggregating records in 'Counter' table...
2025-09-18 11:12:53.193 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:13:23.219 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:13:53.242 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:14:23.265 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:14:53.294 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:15:23.323 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:15:53.360 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:16:23.399 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:16:53.434 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:17:23.467 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:17:53.125 -04:00 [DBG] Aggregating records in 'Counter' table...
2025-09-18 11:17:53.508 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:18:05.885 -04:00 [INF] Request starting HTTP/2 POST https://localhost:52212/api/Inventory/SyncInventoryDataBackup - null 0
2025-09-18 11:18:05.893 -04:00 [DBG] The request has an origin header: 'https://localhost:52212'.
2025-09-18 11:18:05.897 -04:00 [INF] CORS policy execution successful.
2025-09-18 11:18:05.899 -04:00 [DBG] POST requests are not supported
2025-09-18 11:18:05.900 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Inventory/SyncInventoryDataBackup'
2025-09-18 11:18:05.901 -04:00 [DBG] Endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)' with route pattern 'api/Inventory/SyncInventoryDataBackup' is valid for the request path '/api/Inventory/SyncInventoryDataBackup'
2025-09-18 11:18:05.901 -04:00 [DBG] Request matched endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:18:05.902 -04:00 [INF] Executing endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:18:05.903 -04:00 [INF] Route matched with {action = "SyncInventoryDataBackup", controller = "Inventory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SyncInventoryDataBackup(System.Nullable`1[System.Guid]) on controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory).
2025-09-18 11:18:05.904 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-18 11:18:05.905 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-18 11:18:05.906 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-18 11:18:05.908 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-18 11:18:05.908 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-18 11:18:05.909 -04:00 [DBG] Executing controller factory for controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory)
2025-09-18 11:18:05.910 -04:00 [DBG] Executed controller factory for controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory)
2025-09-18 11:18:05.910 -04:00 [DBG] Attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]' ...
2025-09-18 11:18:05.911 -04:00 [DBG] Attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]' using the name '' in request data ...
2025-09-18 11:18:05.912 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:18:05.913 -04:00 [DBG] Done attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:18:05.913 -04:00 [DBG] Done attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:18:05.914 -04:00 [DBG] Attempting to validate the bound parameter 'runId' of type 'System.Nullable`1[System.Guid]' ...
2025-09-18 11:18:05.914 -04:00 [DBG] Done attempting to validate the bound parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:18:05.916 -04:00 [DBG] Entity Framework Core 7.0.16 initialized 'RaymarInventoryDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.16' with options: None
2025-09-18 11:18:05.916 -04:00 [DBG] Creating DbConnection.
2025-09-18 11:18:05.917 -04:00 [DBG] Created DbConnection. (0ms).
2025-09-18 11:18:05.917 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 11:18:05.934 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-18 11:18:05.935 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:18:05.936 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:18:05.936 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:18:05.937 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.ManufacturerPartNumber = v.Staging_MPN,
     b.[Description] = LEFT(CONCAT(
                              COALESCE(v.Staging_MPN,''), 
                              CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
                                    AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
                              COALESCE(v.Staging_Desc,'')
                          ),255),
     b.Cost        = v.Staging_Cost,
     b.SalesPrice  = v.Staging_SalesPrice,
     b.OnHand      = v.Staging_OnHand,
     b.IsActive    = 1,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'U'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'CHANGED';
2025-09-18 11:18:05.969 -04:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.ManufacturerPartNumber = v.Staging_MPN,
     b.[Description] = LEFT(CONCAT(
                              COALESCE(v.Staging_MPN,''), 
                              CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
                                    AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
                              COALESCE(v.Staging_Desc,'')
                          ),255),
     b.Cost        = v.Staging_Cost,
     b.SalesPrice  = v.Staging_SalesPrice,
     b.OnHand      = v.Staging_OnHand,
     b.IsActive    = 1,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'U'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'CHANGED';
2025-09-18 11:18:05.971 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:18:05.971 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:18:05.973 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-09-18 11:18:05.973 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

INSERT dbo.InventoryDataBackup
(
    ItemName, ManufacturerPartNumber, [Description],
    Cost, SalesPrice, ReorderPoint, OnHand, AverageCost, IncomeAccountID,
    QuickBooksInvID, LastRestockedDate, IsActive, LastUpdated, LastTrans
)
SELECT
    NULL,                                        -- ItemName
    v.Staging_MPN,
    LEFT(CONCAT(
        COALESCE(v.Staging_MPN,''), 
        CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
              AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
        COALESCE(v.Staging_Desc,'')
    ),255) AS [Description],
    v.Staging_Cost,
    v.Staging_SalesPrice,
    NULL,                                        -- ReorderPoint
    v.Staging_OnHand,
    NULL,                                        -- AverageCost
    NULL,                                        -- IncomeAccountID
    v.ListID,
    NULL,                                        -- LastRestockedDate
    1,                                           -- IsActive
    SYSUTCDATETIME(),
    'I'
FROM dbo.vw_InventoryDelta v
LEFT JOIN dbo.InventoryDataBackup b
  ON TRIM(b.QuickBooksInvID) = TRIM(v.ListID)
WHERE v.Status = 'NEW'
  AND b.InventoryID IS NULL;
2025-09-18 11:18:06.554 -04:00 [INF] Executed DbCommand (581ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

INSERT dbo.InventoryDataBackup
(
    ItemName, ManufacturerPartNumber, [Description],
    Cost, SalesPrice, ReorderPoint, OnHand, AverageCost, IncomeAccountID,
    QuickBooksInvID, LastRestockedDate, IsActive, LastUpdated, LastTrans
)
SELECT
    NULL,                                        -- ItemName
    v.Staging_MPN,
    LEFT(CONCAT(
        COALESCE(v.Staging_MPN,''), 
        CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
              AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
        COALESCE(v.Staging_Desc,'')
    ),255) AS [Description],
    v.Staging_Cost,
    v.Staging_SalesPrice,
    NULL,                                        -- ReorderPoint
    v.Staging_OnHand,
    NULL,                                        -- AverageCost
    NULL,                                        -- IncomeAccountID
    v.ListID,
    NULL,                                        -- LastRestockedDate
    1,                                           -- IsActive
    SYSUTCDATETIME(),
    'I'
FROM dbo.vw_InventoryDelta v
LEFT JOIN dbo.InventoryDataBackup b
  ON TRIM(b.QuickBooksInvID) = TRIM(v.ListID)
WHERE v.Status = 'NEW'
  AND b.InventoryID IS NULL;
2025-09-18 11:18:06.556 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:18:06.557 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:18:06.558 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:18:06.558 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.IsActive    = 0,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'D'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'DELETED'
  AND b.IsActive = 1
  AND ISNULL(b.ManufacturerPartNumber,'') <> '__TRAVEL_RECEIPT__';
2025-09-18 11:18:07.245 -04:00 [INF] Executed DbCommand (686ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.IsActive    = 0,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'D'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'DELETED'
  AND b.IsActive = 1
  AND ISNULL(b.ManufacturerPartNumber,'') <> '__TRAVEL_RECEIPT__';
2025-09-18 11:18:07.246 -04:00 [DBG] Committing transaction.
2025-09-18 11:18:07.263 -04:00 [DBG] Committed transaction.
2025-09-18 11:18:07.263 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:18:07.264 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:18:07.264 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:18:07.265 -04:00 [DBG] Executing DbCommand [Parameters=[@RunId='?' (DbType = Guid), @Method='?' (Size = 40) (DbType = AnsiString), @Direction='?' (Size = 10) (DbType = AnsiString), @StatusCode='?' (DbType = Int32), @HResult='?' (Size = 50), @Message='?' (Size = 4000), @CompanyFile='?' (Size = 400), @PayloadXml='?' (DbType = Xml)], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.Qbwc_LogMessage @RunId, @Method, @Direction, @StatusCode, @HResult, @Message, @CompanyFile, @PayloadXml
2025-09-18 11:18:07.289 -04:00 [INF] Executed DbCommand (24ms) [Parameters=[@RunId='?' (DbType = Guid), @Method='?' (Size = 40) (DbType = AnsiString), @Direction='?' (Size = 10) (DbType = AnsiString), @StatusCode='?' (DbType = Int32), @HResult='?' (Size = 50), @Message='?' (Size = 4000), @CompanyFile='?' (Size = 400), @PayloadXml='?' (DbType = Xml)], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.Qbwc_LogMessage @RunId, @Method, @Direction, @StatusCode, @HResult, @Message, @CompanyFile, @PayloadXml
2025-09-18 11:18:07.290 -04:00 [DBG] Disposing transaction.
2025-09-18 11:18:07.291 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-18 11:18:07.292 -04:00 [DBG] No information found on request to perform content negotiation.
2025-09-18 11:18:07.293 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-18 11:18:07.293 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-18 11:18:07.294 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-18 11:18:07.294 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`4[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-18 11:18:07.295 -04:00 [INF] Executed action RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory) in 1386.0062ms
2025-09-18 11:18:07.296 -04:00 [INF] Executed endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:18:07.296 -04:00 [DBG] 'RaymarInventoryDBContext' disposed.
2025-09-18 11:18:07.297 -04:00 [DBG] Disposing connection to database 'RaymarInventoryDB' on server 'tcp:greatfurnituresql.database.windows.net,1433'.
2025-09-18 11:18:07.298 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-18 11:18:07.299 -04:00 [INF] Request finished HTTP/2 POST https://localhost:52212/api/Inventory/SyncInventoryDataBackup - 200 null application/json; charset=utf-8 1414.6752ms
2025-09-18 11:18:08.865 -04:00 [INF] Request starting HTTP/2 POST https://localhost:52212/api/Inventory/SyncInventoryDataBackup - null 0
2025-09-18 11:18:08.866 -04:00 [DBG] The request has an origin header: 'https://localhost:52212'.
2025-09-18 11:18:08.867 -04:00 [INF] CORS policy execution successful.
2025-09-18 11:18:08.868 -04:00 [DBG] POST requests are not supported
2025-09-18 11:18:08.873 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Inventory/SyncInventoryDataBackup'
2025-09-18 11:18:08.874 -04:00 [DBG] Endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)' with route pattern 'api/Inventory/SyncInventoryDataBackup' is valid for the request path '/api/Inventory/SyncInventoryDataBackup'
2025-09-18 11:18:08.875 -04:00 [DBG] Request matched endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:18:08.876 -04:00 [INF] Executing endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:18:08.877 -04:00 [INF] Route matched with {action = "SyncInventoryDataBackup", controller = "Inventory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SyncInventoryDataBackup(System.Nullable`1[System.Guid]) on controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory).
2025-09-18 11:18:08.878 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-18 11:18:08.879 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-18 11:18:08.880 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-18 11:18:08.881 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-18 11:18:08.882 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-18 11:18:08.883 -04:00 [DBG] Executing controller factory for controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory)
2025-09-18 11:18:08.884 -04:00 [DBG] Executed controller factory for controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory)
2025-09-18 11:18:08.885 -04:00 [DBG] Attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]' ...
2025-09-18 11:18:08.885 -04:00 [DBG] Attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]' using the name '' in request data ...
2025-09-18 11:18:08.886 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:18:08.887 -04:00 [DBG] Done attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:18:08.888 -04:00 [DBG] Done attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:18:08.889 -04:00 [DBG] Attempting to validate the bound parameter 'runId' of type 'System.Nullable`1[System.Guid]' ...
2025-09-18 11:18:08.889 -04:00 [DBG] Done attempting to validate the bound parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:18:08.890 -04:00 [DBG] Entity Framework Core 7.0.16 initialized 'RaymarInventoryDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.16' with options: None
2025-09-18 11:18:08.891 -04:00 [DBG] Creating DbConnection.
2025-09-18 11:18:08.892 -04:00 [DBG] Created DbConnection. (0ms).
2025-09-18 11:18:08.892 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 11:18:08.905 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-18 11:18:08.906 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:18:08.907 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:18:08.907 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:18:08.908 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.ManufacturerPartNumber = v.Staging_MPN,
     b.[Description] = LEFT(CONCAT(
                              COALESCE(v.Staging_MPN,''), 
                              CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
                                    AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
                              COALESCE(v.Staging_Desc,'')
                          ),255),
     b.Cost        = v.Staging_Cost,
     b.SalesPrice  = v.Staging_SalesPrice,
     b.OnHand      = v.Staging_OnHand,
     b.IsActive    = 1,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'U'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'CHANGED';
2025-09-18 11:18:09.465 -04:00 [INF] Executed DbCommand (557ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.ManufacturerPartNumber = v.Staging_MPN,
     b.[Description] = LEFT(CONCAT(
                              COALESCE(v.Staging_MPN,''), 
                              CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
                                    AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
                              COALESCE(v.Staging_Desc,'')
                          ),255),
     b.Cost        = v.Staging_Cost,
     b.SalesPrice  = v.Staging_SalesPrice,
     b.OnHand      = v.Staging_OnHand,
     b.IsActive    = 1,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'U'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'CHANGED';
2025-09-18 11:18:09.467 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:18:09.467 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:18:09.468 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:18:09.469 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

INSERT dbo.InventoryDataBackup
(
    ItemName, ManufacturerPartNumber, [Description],
    Cost, SalesPrice, ReorderPoint, OnHand, AverageCost, IncomeAccountID,
    QuickBooksInvID, LastRestockedDate, IsActive, LastUpdated, LastTrans
)
SELECT
    NULL,                                        -- ItemName
    v.Staging_MPN,
    LEFT(CONCAT(
        COALESCE(v.Staging_MPN,''), 
        CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
              AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
        COALESCE(v.Staging_Desc,'')
    ),255) AS [Description],
    v.Staging_Cost,
    v.Staging_SalesPrice,
    NULL,                                        -- ReorderPoint
    v.Staging_OnHand,
    NULL,                                        -- AverageCost
    NULL,                                        -- IncomeAccountID
    v.ListID,
    NULL,                                        -- LastRestockedDate
    1,                                           -- IsActive
    SYSUTCDATETIME(),
    'I'
FROM dbo.vw_InventoryDelta v
LEFT JOIN dbo.InventoryDataBackup b
  ON TRIM(b.QuickBooksInvID) = TRIM(v.ListID)
WHERE v.Status = 'NEW'
  AND b.InventoryID IS NULL;
2025-09-18 11:18:10.400 -04:00 [INF] Executed DbCommand (931ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

INSERT dbo.InventoryDataBackup
(
    ItemName, ManufacturerPartNumber, [Description],
    Cost, SalesPrice, ReorderPoint, OnHand, AverageCost, IncomeAccountID,
    QuickBooksInvID, LastRestockedDate, IsActive, LastUpdated, LastTrans
)
SELECT
    NULL,                                        -- ItemName
    v.Staging_MPN,
    LEFT(CONCAT(
        COALESCE(v.Staging_MPN,''), 
        CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
              AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
        COALESCE(v.Staging_Desc,'')
    ),255) AS [Description],
    v.Staging_Cost,
    v.Staging_SalesPrice,
    NULL,                                        -- ReorderPoint
    v.Staging_OnHand,
    NULL,                                        -- AverageCost
    NULL,                                        -- IncomeAccountID
    v.ListID,
    NULL,                                        -- LastRestockedDate
    1,                                           -- IsActive
    SYSUTCDATETIME(),
    'I'
FROM dbo.vw_InventoryDelta v
LEFT JOIN dbo.InventoryDataBackup b
  ON TRIM(b.QuickBooksInvID) = TRIM(v.ListID)
WHERE v.Status = 'NEW'
  AND b.InventoryID IS NULL;
2025-09-18 11:18:10.402 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:18:10.403 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:18:10.404 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:18:10.405 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.IsActive    = 0,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'D'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'DELETED'
  AND b.IsActive = 1
  AND ISNULL(b.ManufacturerPartNumber,'') <> '__TRAVEL_RECEIPT__';
2025-09-18 11:18:10.710 -04:00 [INF] Executed DbCommand (305ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.IsActive    = 0,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'D'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'DELETED'
  AND b.IsActive = 1
  AND ISNULL(b.ManufacturerPartNumber,'') <> '__TRAVEL_RECEIPT__';
2025-09-18 11:18:10.712 -04:00 [DBG] Committing transaction.
2025-09-18 11:18:10.748 -04:00 [DBG] Committed transaction.
2025-09-18 11:18:10.749 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:18:10.750 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:18:10.750 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:18:10.751 -04:00 [DBG] Executing DbCommand [Parameters=[@RunId='?' (DbType = Guid), @Method='?' (Size = 40) (DbType = AnsiString), @Direction='?' (Size = 10) (DbType = AnsiString), @StatusCode='?' (DbType = Int32), @HResult='?' (Size = 50), @Message='?' (Size = 4000), @CompanyFile='?' (Size = 400), @PayloadXml='?' (DbType = Xml)], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.Qbwc_LogMessage @RunId, @Method, @Direction, @StatusCode, @HResult, @Message, @CompanyFile, @PayloadXml
2025-09-18 11:18:10.785 -04:00 [INF] Executed DbCommand (34ms) [Parameters=[@RunId='?' (DbType = Guid), @Method='?' (Size = 40) (DbType = AnsiString), @Direction='?' (Size = 10) (DbType = AnsiString), @StatusCode='?' (DbType = Int32), @HResult='?' (Size = 50), @Message='?' (Size = 4000), @CompanyFile='?' (Size = 400), @PayloadXml='?' (DbType = Xml)], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.Qbwc_LogMessage @RunId, @Method, @Direction, @StatusCode, @HResult, @Message, @CompanyFile, @PayloadXml
2025-09-18 11:18:10.787 -04:00 [DBG] Disposing transaction.
2025-09-18 11:18:10.787 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-18 11:18:10.788 -04:00 [DBG] No information found on request to perform content negotiation.
2025-09-18 11:18:10.789 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-18 11:18:10.789 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-18 11:18:10.790 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-18 11:18:10.790 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`4[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-18 11:18:10.791 -04:00 [INF] Executed action RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory) in 1907.6831ms
2025-09-18 11:18:10.791 -04:00 [INF] Executed endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:18:10.792 -04:00 [DBG] 'RaymarInventoryDBContext' disposed.
2025-09-18 11:18:10.792 -04:00 [DBG] Disposing connection to database 'RaymarInventoryDB' on server 'tcp:greatfurnituresql.database.windows.net,1433'.
2025-09-18 11:18:10.793 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-18 11:18:10.794 -04:00 [INF] Request finished HTTP/2 POST https://localhost:52212/api/Inventory/SyncInventoryDataBackup - 200 null application/json; charset=utf-8 1929.3005ms
2025-09-18 11:18:23.534 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:18:53.573 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:19:23.606 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:19:53.633 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:20:23.656 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:20:53.675 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:21:23.692 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:21:53.722 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:22:23.784 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:22:53.153 -04:00 [DBG] Aggregating records in 'Counter' table...
2025-09-18 11:22:53.794 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:23:23.824 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:23:53.844 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:24:23.873 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:24:53.895 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:25:23.936 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:25:53.972 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:26:23.993 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:26:54.024 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:27:24.045 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:27:53.185 -04:00 [DBG] Aggregating records in 'Counter' table...
2025-09-18 11:27:54.073 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:28:24.109 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:28:54.132 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:29:24.155 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:29:54.179 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:30:24.210 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:30:54.242 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:31:24.268 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:31:54.300 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:32:24.331 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:32:51.874 -04:00 [INF] Request starting HTTP/2 POST https://localhost:52212/api/Inventory/SyncInventoryDataBackup - null 0
2025-09-18 11:32:51.885 -04:00 [DBG] The request has an origin header: 'https://localhost:52212'.
2025-09-18 11:32:51.885 -04:00 [INF] CORS policy execution successful.
2025-09-18 11:32:51.886 -04:00 [DBG] POST requests are not supported
2025-09-18 11:32:51.887 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Inventory/SyncInventoryDataBackup'
2025-09-18 11:32:51.887 -04:00 [DBG] Endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)' with route pattern 'api/Inventory/SyncInventoryDataBackup' is valid for the request path '/api/Inventory/SyncInventoryDataBackup'
2025-09-18 11:32:51.889 -04:00 [DBG] Request matched endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:32:51.890 -04:00 [INF] Executing endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:32:51.891 -04:00 [INF] Route matched with {action = "SyncInventoryDataBackup", controller = "Inventory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SyncInventoryDataBackup(System.Nullable`1[System.Guid]) on controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory).
2025-09-18 11:32:51.892 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-18 11:32:51.893 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-18 11:32:51.893 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-18 11:32:51.894 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-18 11:32:51.895 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-18 11:32:51.896 -04:00 [DBG] Executing controller factory for controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory)
2025-09-18 11:32:51.897 -04:00 [DBG] Executed controller factory for controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory)
2025-09-18 11:32:51.897 -04:00 [DBG] Attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]' ...
2025-09-18 11:32:51.898 -04:00 [DBG] Attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]' using the name '' in request data ...
2025-09-18 11:32:51.899 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:32:51.900 -04:00 [DBG] Done attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:32:51.901 -04:00 [DBG] Done attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:32:51.901 -04:00 [DBG] Attempting to validate the bound parameter 'runId' of type 'System.Nullable`1[System.Guid]' ...
2025-09-18 11:32:51.902 -04:00 [DBG] Done attempting to validate the bound parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:32:51.903 -04:00 [DBG] Entity Framework Core 7.0.16 initialized 'RaymarInventoryDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.16' with options: None
2025-09-18 11:32:51.904 -04:00 [DBG] Creating DbConnection.
2025-09-18 11:32:51.905 -04:00 [DBG] Created DbConnection. (0ms).
2025-09-18 11:32:51.905 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 11:32:51.934 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-18 11:32:51.936 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:32:51.937 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:32:51.938 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-09-18 11:32:51.938 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.ManufacturerPartNumber = v.Staging_MPN,
     b.[Description] = LEFT(CONCAT(
                              COALESCE(v.Staging_MPN,''), 
                              CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
                                    AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
                              COALESCE(v.Staging_Desc,'')
                          ),255),
     b.Cost        = v.Staging_Cost,
     b.SalesPrice  = v.Staging_SalesPrice,
     b.OnHand      = v.Staging_OnHand,
     b.IsActive    = 1,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'U'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'CHANGED';
2025-09-18 11:32:52.094 -04:00 [INF] Executed DbCommand (155ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.ManufacturerPartNumber = v.Staging_MPN,
     b.[Description] = LEFT(CONCAT(
                              COALESCE(v.Staging_MPN,''), 
                              CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
                                    AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
                              COALESCE(v.Staging_Desc,'')
                          ),255),
     b.Cost        = v.Staging_Cost,
     b.SalesPrice  = v.Staging_SalesPrice,
     b.OnHand      = v.Staging_OnHand,
     b.IsActive    = 1,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'U'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'CHANGED';
2025-09-18 11:32:52.096 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:32:52.096 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:32:52.097 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:32:52.098 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

INSERT dbo.InventoryDataBackup
(
    ItemName, ManufacturerPartNumber, [Description],
    Cost, SalesPrice, ReorderPoint, OnHand, AverageCost, IncomeAccountID,
    QuickBooksInvID, LastRestockedDate, IsActive, LastUpdated, LastTrans
)
SELECT
    NULL,                                        -- ItemName
    v.Staging_MPN,
    LEFT(CONCAT(
        COALESCE(v.Staging_MPN,''), 
        CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
              AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
        COALESCE(v.Staging_Desc,'')
    ),255) AS [Description],
    v.Staging_Cost,
    v.Staging_SalesPrice,
    NULL,                                        -- ReorderPoint
    v.Staging_OnHand,
    NULL,                                        -- AverageCost
    NULL,                                        -- IncomeAccountID
    v.ListID,
    NULL,                                        -- LastRestockedDate
    1,                                           -- IsActive
    SYSUTCDATETIME(),
    'I'
FROM dbo.vw_InventoryDelta v
LEFT JOIN dbo.InventoryDataBackup b
  ON TRIM(b.QuickBooksInvID) = TRIM(v.ListID)
WHERE v.Status = 'NEW'
  AND b.InventoryID IS NULL;
2025-09-18 11:32:52.982 -04:00 [INF] Executed DbCommand (885ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

INSERT dbo.InventoryDataBackup
(
    ItemName, ManufacturerPartNumber, [Description],
    Cost, SalesPrice, ReorderPoint, OnHand, AverageCost, IncomeAccountID,
    QuickBooksInvID, LastRestockedDate, IsActive, LastUpdated, LastTrans
)
SELECT
    NULL,                                        -- ItemName
    v.Staging_MPN,
    LEFT(CONCAT(
        COALESCE(v.Staging_MPN,''), 
        CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
              AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
        COALESCE(v.Staging_Desc,'')
    ),255) AS [Description],
    v.Staging_Cost,
    v.Staging_SalesPrice,
    NULL,                                        -- ReorderPoint
    v.Staging_OnHand,
    NULL,                                        -- AverageCost
    NULL,                                        -- IncomeAccountID
    v.ListID,
    NULL,                                        -- LastRestockedDate
    1,                                           -- IsActive
    SYSUTCDATETIME(),
    'I'
FROM dbo.vw_InventoryDelta v
LEFT JOIN dbo.InventoryDataBackup b
  ON TRIM(b.QuickBooksInvID) = TRIM(v.ListID)
WHERE v.Status = 'NEW'
  AND b.InventoryID IS NULL;
2025-09-18 11:32:52.984 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:32:52.984 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:32:52.985 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:32:52.986 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.IsActive    = 0,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'D'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'DELETED'
  AND b.IsActive = 1
  AND ISNULL(b.ManufacturerPartNumber,'') <> '__TRAVEL_RECEIPT__';
2025-09-18 11:32:53.207 -04:00 [DBG] Aggregating records in 'Counter' table...
2025-09-18 11:32:53.718 -04:00 [INF] Executed DbCommand (732ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.IsActive    = 0,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'D'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'DELETED'
  AND b.IsActive = 1
  AND ISNULL(b.ManufacturerPartNumber,'') <> '__TRAVEL_RECEIPT__';
2025-09-18 11:32:53.723 -04:00 [DBG] Committing transaction.
2025-09-18 11:32:53.743 -04:00 [DBG] Committed transaction.
2025-09-18 11:32:53.744 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:32:53.744 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:32:53.745 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:32:53.745 -04:00 [DBG] Executing DbCommand [Parameters=[@RunId='?' (DbType = Guid), @Method='?' (Size = 40) (DbType = AnsiString), @Direction='?' (Size = 10) (DbType = AnsiString), @StatusCode='?' (DbType = Int32), @HResult='?' (Size = 50), @Message='?' (Size = 4000), @CompanyFile='?' (Size = 400), @PayloadXml='?' (DbType = Xml)], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.Qbwc_LogMessage @RunId, @Method, @Direction, @StatusCode, @HResult, @Message, @CompanyFile, @PayloadXml
2025-09-18 11:32:53.768 -04:00 [INF] Executed DbCommand (23ms) [Parameters=[@RunId='?' (DbType = Guid), @Method='?' (Size = 40) (DbType = AnsiString), @Direction='?' (Size = 10) (DbType = AnsiString), @StatusCode='?' (DbType = Int32), @HResult='?' (Size = 50), @Message='?' (Size = 4000), @CompanyFile='?' (Size = 400), @PayloadXml='?' (DbType = Xml)], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.Qbwc_LogMessage @RunId, @Method, @Direction, @StatusCode, @HResult, @Message, @CompanyFile, @PayloadXml
2025-09-18 11:32:53.770 -04:00 [DBG] Disposing transaction.
2025-09-18 11:32:53.770 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-18 11:32:53.771 -04:00 [DBG] No information found on request to perform content negotiation.
2025-09-18 11:32:53.772 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-18 11:32:53.772 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-18 11:32:53.772 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-18 11:32:53.773 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`4[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-18 11:32:53.774 -04:00 [INF] Executed action RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory) in 1878.2742ms
2025-09-18 11:32:53.775 -04:00 [INF] Executed endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:32:53.775 -04:00 [DBG] 'RaymarInventoryDBContext' disposed.
2025-09-18 11:32:53.776 -04:00 [DBG] Disposing connection to database 'RaymarInventoryDB' on server 'tcp:greatfurnituresql.database.windows.net,1433'.
2025-09-18 11:32:53.781 -04:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-09-18 11:32:53.785 -04:00 [INF] Request finished HTTP/2 POST https://localhost:52212/api/Inventory/SyncInventoryDataBackup - 200 null application/json; charset=utf-8 1911.6899ms
2025-09-18 11:32:54.357 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:32:56.006 -04:00 [INF] Request starting HTTP/2 POST https://localhost:52212/api/Inventory/SyncInventoryDataBackup - null 0
2025-09-18 11:32:56.008 -04:00 [DBG] The request has an origin header: 'https://localhost:52212'.
2025-09-18 11:32:56.008 -04:00 [INF] CORS policy execution successful.
2025-09-18 11:32:56.009 -04:00 [DBG] POST requests are not supported
2025-09-18 11:32:56.009 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Inventory/SyncInventoryDataBackup'
2025-09-18 11:32:56.010 -04:00 [DBG] Endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)' with route pattern 'api/Inventory/SyncInventoryDataBackup' is valid for the request path '/api/Inventory/SyncInventoryDataBackup'
2025-09-18 11:32:56.011 -04:00 [DBG] Request matched endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:32:56.012 -04:00 [INF] Executing endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:32:56.013 -04:00 [INF] Route matched with {action = "SyncInventoryDataBackup", controller = "Inventory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SyncInventoryDataBackup(System.Nullable`1[System.Guid]) on controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory).
2025-09-18 11:32:56.014 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-18 11:32:56.015 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-18 11:32:56.016 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-18 11:32:56.018 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-18 11:32:56.019 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-18 11:32:56.020 -04:00 [DBG] Executing controller factory for controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory)
2025-09-18 11:32:56.021 -04:00 [DBG] Executed controller factory for controller RaymarEquipmentInventory.Controllers.InventoryController (RaymarEquipmentInventory)
2025-09-18 11:32:56.021 -04:00 [DBG] Attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]' ...
2025-09-18 11:32:56.022 -04:00 [DBG] Attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]' using the name '' in request data ...
2025-09-18 11:32:56.023 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:32:56.023 -04:00 [DBG] Done attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:32:56.024 -04:00 [DBG] Done attempting to bind parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:32:56.025 -04:00 [DBG] Attempting to validate the bound parameter 'runId' of type 'System.Nullable`1[System.Guid]' ...
2025-09-18 11:32:56.025 -04:00 [DBG] Done attempting to validate the bound parameter 'runId' of type 'System.Nullable`1[System.Guid]'.
2025-09-18 11:32:56.026 -04:00 [DBG] Entity Framework Core 7.0.16 initialized 'RaymarInventoryDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.16' with options: None
2025-09-18 11:32:56.027 -04:00 [DBG] Creating DbConnection.
2025-09-18 11:32:56.028 -04:00 [DBG] Created DbConnection. (0ms).
2025-09-18 11:32:56.028 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-18 11:32:56.042 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-18 11:32:56.043 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:32:56.044 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:32:56.044 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:32:56.045 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.ManufacturerPartNumber = v.Staging_MPN,
     b.[Description] = LEFT(CONCAT(
                              COALESCE(v.Staging_MPN,''), 
                              CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
                                    AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
                              COALESCE(v.Staging_Desc,'')
                          ),255),
     b.Cost        = v.Staging_Cost,
     b.SalesPrice  = v.Staging_SalesPrice,
     b.OnHand      = v.Staging_OnHand,
     b.IsActive    = 1,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'U'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'CHANGED';
2025-09-18 11:32:56.936 -04:00 [INF] Executed DbCommand (892ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.ManufacturerPartNumber = v.Staging_MPN,
     b.[Description] = LEFT(CONCAT(
                              COALESCE(v.Staging_MPN,''), 
                              CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
                                    AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
                              COALESCE(v.Staging_Desc,'')
                          ),255),
     b.Cost        = v.Staging_Cost,
     b.SalesPrice  = v.Staging_SalesPrice,
     b.OnHand      = v.Staging_OnHand,
     b.IsActive    = 1,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'U'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'CHANGED';
2025-09-18 11:32:56.938 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:32:56.938 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:32:56.939 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:32:56.939 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

INSERT dbo.InventoryDataBackup
(
    ItemName, ManufacturerPartNumber, [Description],
    Cost, SalesPrice, ReorderPoint, OnHand, AverageCost, IncomeAccountID,
    QuickBooksInvID, LastRestockedDate, IsActive, LastUpdated, LastTrans
)
SELECT
    NULL,                                        -- ItemName
    v.Staging_MPN,
    LEFT(CONCAT(
        COALESCE(v.Staging_MPN,''), 
        CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
              AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
        COALESCE(v.Staging_Desc,'')
    ),255) AS [Description],
    v.Staging_Cost,
    v.Staging_SalesPrice,
    NULL,                                        -- ReorderPoint
    v.Staging_OnHand,
    NULL,                                        -- AverageCost
    NULL,                                        -- IncomeAccountID
    v.ListID,
    NULL,                                        -- LastRestockedDate
    1,                                           -- IsActive
    SYSUTCDATETIME(),
    'I'
FROM dbo.vw_InventoryDelta v
LEFT JOIN dbo.InventoryDataBackup b
  ON TRIM(b.QuickBooksInvID) = TRIM(v.ListID)
WHERE v.Status = 'NEW'
  AND b.InventoryID IS NULL;
2025-09-18 11:32:57.904 -04:00 [INF] Executed DbCommand (964ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

INSERT dbo.InventoryDataBackup
(
    ItemName, ManufacturerPartNumber, [Description],
    Cost, SalesPrice, ReorderPoint, OnHand, AverageCost, IncomeAccountID,
    QuickBooksInvID, LastRestockedDate, IsActive, LastUpdated, LastTrans
)
SELECT
    NULL,                                        -- ItemName
    v.Staging_MPN,
    LEFT(CONCAT(
        COALESCE(v.Staging_MPN,''), 
        CASE WHEN NULLIF(v.Staging_MPN,'') IS NOT NULL 
              AND NULLIF(v.Staging_Desc,'') IS NOT NULL THEN '-' ELSE '' END,
        COALESCE(v.Staging_Desc,'')
    ),255) AS [Description],
    v.Staging_Cost,
    v.Staging_SalesPrice,
    NULL,                                        -- ReorderPoint
    v.Staging_OnHand,
    NULL,                                        -- AverageCost
    NULL,                                        -- IncomeAccountID
    v.ListID,
    NULL,                                        -- LastRestockedDate
    1,                                           -- IsActive
    SYSUTCDATETIME(),
    'I'
FROM dbo.vw_InventoryDelta v
LEFT JOIN dbo.InventoryDataBackup b
  ON TRIM(b.QuickBooksInvID) = TRIM(v.ListID)
WHERE v.Status = 'NEW'
  AND b.InventoryID IS NULL;
2025-09-18 11:32:57.906 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:32:57.906 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:32:57.907 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:32:57.908 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.IsActive    = 0,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'D'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'DELETED'
  AND b.IsActive = 1
  AND ISNULL(b.ManufacturerPartNumber,'') <> '__TRAVEL_RECEIPT__';
2025-09-18 11:32:58.220 -04:00 [INF] Executed DbCommand (312ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

UPDATE b
SET  b.IsActive    = 0,
     b.LastUpdated = SYSUTCDATETIME(),
     b.LastTrans   = 'D'
FROM dbo.InventoryDataBackup b
JOIN dbo.vw_InventoryDelta v
  ON TRIM(v.ListID) = TRIM(b.QuickBooksInvID)
WHERE v.Status = 'DELETED'
  AND b.IsActive = 1
  AND ISNULL(b.ManufacturerPartNumber,'') <> '__TRAVEL_RECEIPT__';
2025-09-18 11:32:58.221 -04:00 [DBG] Committing transaction.
2025-09-18 11:32:58.268 -04:00 [DBG] Committed transaction.
2025-09-18 11:32:58.268 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-18 11:32:58.269 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-09-18 11:32:58.270 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-09-18 11:32:58.271 -04:00 [DBG] Executing DbCommand [Parameters=[@RunId='?' (DbType = Guid), @Method='?' (Size = 40) (DbType = AnsiString), @Direction='?' (Size = 10) (DbType = AnsiString), @StatusCode='?' (DbType = Int32), @HResult='?' (Size = 50), @Message='?' (Size = 4000), @CompanyFile='?' (Size = 400), @PayloadXml='?' (DbType = Xml)], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.Qbwc_LogMessage @RunId, @Method, @Direction, @StatusCode, @HResult, @Message, @CompanyFile, @PayloadXml
2025-09-18 11:32:58.289 -04:00 [INF] Executed DbCommand (18ms) [Parameters=[@RunId='?' (DbType = Guid), @Method='?' (Size = 40) (DbType = AnsiString), @Direction='?' (Size = 10) (DbType = AnsiString), @StatusCode='?' (DbType = Int32), @HResult='?' (Size = 50), @Message='?' (Size = 4000), @CompanyFile='?' (Size = 400), @PayloadXml='?' (DbType = Xml)], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.Qbwc_LogMessage @RunId, @Method, @Direction, @StatusCode, @HResult, @Message, @CompanyFile, @PayloadXml
2025-09-18 11:32:58.290 -04:00 [DBG] Disposing transaction.
2025-09-18 11:32:58.290 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-18 11:32:58.292 -04:00 [DBG] No information found on request to perform content negotiation.
2025-09-18 11:32:58.292 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-18 11:32:58.292 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-18 11:32:58.293 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-18 11:32:58.293 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`4[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-18 11:32:58.294 -04:00 [INF] Executed action RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory) in 2274.4054ms
2025-09-18 11:32:58.295 -04:00 [INF] Executed endpoint 'RaymarEquipmentInventory.Controllers.InventoryController.SyncInventoryDataBackup (RaymarEquipmentInventory)'
2025-09-18 11:32:58.296 -04:00 [DBG] 'RaymarInventoryDBContext' disposed.
2025-09-18 11:32:58.297 -04:00 [DBG] Disposing connection to database 'RaymarInventoryDB' on server 'tcp:greatfurnituresql.database.windows.net,1433'.
2025-09-18 11:32:58.298 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-18 11:32:58.300 -04:00 [INF] Request finished HTTP/2 POST https://localhost:52212/api/Inventory/SyncInventoryDataBackup - 200 null application/json; charset=utf-8 2294.188ms
2025-09-18 11:33:24.383 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:33:54.419 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:34:24.453 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:34:54.485 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:35:01.883 -04:00 [DBG] 2 recurring job(s) processed by scheduler.
2025-09-18 11:35:24.504 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:35:54.525 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:36:24.559 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:36:54.585 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:37:24.626 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:37:53.307 -04:00 [DBG] Aggregating records in 'Counter' table...
2025-09-18 11:37:53.601 -04:00 [DBG] Removing outdated records from the 'AggregatedCounter' table...
2025-09-18 11:37:53.908 -04:00 [DBG] Removing outdated records from the 'Job' table...
2025-09-18 11:37:54.502 -04:00 [DBG] Removing outdated records from the 'List' table...
2025-09-18 11:37:54.674 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
2025-09-18 11:37:54.831 -04:00 [DBG] Removing outdated records from the 'Set' table...
2025-09-18 11:37:55.049 -04:00 [DBG] Removing outdated records from the 'Hash' table...
2025-09-18 11:38:24.712 -04:00 [DBG] Server bz2024ad:14520:9b39dbda heartbeat successfully sent
